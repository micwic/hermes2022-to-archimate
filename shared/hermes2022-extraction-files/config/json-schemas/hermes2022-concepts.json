{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/micwic/hermes2022-to-archimate/shared/hermes2022-extraction-files/config/json-schemas/hermes2022-concepts.json",
  "title": "HERMES2022 Concepts Extraction Schema",
  "description": "Schéma de validation pour les fichiers intermédiaires d'extraction des concepts HERMES2022",
  "type": "object",
  "properties": {
    "hermesVersion": {
      "type": "string",
      "enum": ["5", "5.1", "2022"]
    },
    "publicationDate": {
      "type": "string",
      "pattern": "^(0[1-9]|1[0-2])-[0-9]{4}$",
      "description": "Date de publication de la version HERMES (MM-YYYY). Remplace validityPeriod."
    },
    "extractionSource": {
      "type": "object",
      "properties": {
        "baseUrl": {
          "type": "string",
          "enum": [
            "https://www.hermes.admin.ch/de/",
            "https://www.hermes.admin.ch/fr/",
            "https://www.hermes.admin.ch/it/",
            "https://www.hermes.admin.ch/en/"
          ],
          "description": "URL de base utilisée pour l'extraction, enregistrée au moment de l'extraction"
        },
        "language": {
          "type": "string",
          "enum": ["de", "fr", "it", "en"],
          "description": "Code de langue utilisé pour l'extraction, enregistré au moment de l'extraction"
        },
        "description": {
          "type": "string",
          "maxLength": 500,
          "description": "Description de la source d'extraction"
        }
      },
      "required": ["baseUrl", "language", "description"],
      "additionalProperties": false
    },
    "concepts": {
      "type": "object",
      "properties": {
        "overview": {
          "type": "string",
          "minLength": 600,
          "maxLength": 5000,
          "description": "Description générale des concepts de HERMES2022"
        },
        "phases": {
          "$ref": "./hermes2022-phases.json"
        }
      },
      "required": ["overview", "phases"],
      "additionalProperties": false
    },
    "metadata": {
      "type": "object",
      "properties": {
        "created": { "type": "string", "format": "date" },
        "lastModified": { "type": "string", "format": "date" }
      },
      "required": ["created", "lastModified"],
      "additionalProperties": true
    }
  },
  "required": ["hermesVersion", "extractionSource", "concepts", "metadata"],
  "additionalProperties": false
}