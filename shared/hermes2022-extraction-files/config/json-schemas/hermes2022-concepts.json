{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/micwic/hermes2022-to-archimate/shared/hermes2022-extraction-files/config/json-schemas/hermes2022-concepts.json",
  "title": "HERMES2022 Method Extraction Schema",
  "description": "Schéma de validation pour les fichiers intermédiaires d'extraction des concepts de la méthode HERMES2022",
  "type": "object",
  "properties": {
    "config": {
      "type": "object",
      "properties": {
        "extractionSource": {
          "type": "object",
          "properties": {
            "baseUrl": {
              "type": "string",
              "enum": [
                "https://www.hermes.admin.ch/de",
                "https://www.hermes.admin.ch/fr",
                "https://www.hermes.admin.ch/it",
                "https://www.hermes.admin.ch/en"
              ],
              "default": "https://www.hermes.admin.ch/en",
              "description": "URL de base utilisée pour l'extraction, enregistrée au moment de l'extraction"
            },
            "language": {
              "type": "string",
              "enum": ["de", "fr", "it", "en"],
              "default": "en",
              "description": "Code de langue utilisé pour l'extraction, enregistré au moment de l'extraction"
            },
            "description": {
              "type": "string",
              "maxLength": 500,
              "description": "Description de la source de référence pour l'extraction et transformation des concepts de la méthode HERMES2022"
            }
          },
          "required": ["baseUrl", "language", "description"],
          "additionalProperties": false
        }
      },
      "required": ["extractionSource"],
      "additionalProperties": false
    },
    "method": {
      "type": "object",
      "properties": {
        "hermesVersion": {
          "type": "string",
          "enum": ["2022", "5", "5.1"],
          "default": "2022",
          "description": "Version de la méthode HERMES (5, 5.1, 2022). La valeur par défaut est 2022."
        },
        "publicationDate": {
          "type": "string",
          "pattern": "^(0[1-9]|1[0-2])-[0-9]{4}$",
          "default": "04-2023",
          "description": "Date de publication de la version HERMES (MM-YYYY). La valeur par défaut est 04-2023."
        },
        "overview": {
          "type": "string",
          "minLength": 600,
          "maxLength": 5000,
          "description": "Description générale des concepts de HERMES2022"
        },
        "sourceUrl": {
          "type": "string",
          "format": "uri",
          "enum": [
            "/"
          ],
          "default": "/",
          "description": "URL des pages de référence utilisées pour cette description. Ces pages sont utilisées pour extraire la description générale de la méthode HERMES2022."
        },
        "extractionInstructions": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "Extract the overview of HERMES2022 method from the homepage",
              "The overview must be factual, 600-5000 characters, plain text English",
              "Focus on methodology concepts, project lifecycle, and key principles"
            ]
          },
          "description": "Instructions for extracting the method overview from the homepage"
        },
        "lastChecked": {
          "type": "string",
          "format": "date",
          "description": "Date de dernière vérification de la source."
        }
      },
      "required": ["hermesVersion", "publicationDate", "overview", "sourceUrl", "extractionInstructions", "lastChecked"],
      "additionalProperties": false
    },
    "concepts": {
      "type": "object",
      "properties": {
        "overview": {
          "type": "string",
          "minLength": 600,
          "maxLength": 5000,
          "description": "Description générale des concepts de HERMES2022"
        },
        "sourceUrl": {
          "type": "string",
          "format": "uri",
          "enum": [
            "/project-management/method-overview.html",
            "/project-management/method-overview/preface.html"
          ],
          "description": "URL des pages de référence utilisées pour cette description. Ces pages sont utilisées pour extraire la description générale des concepts de HERMES2022."
        },
        "extractionInstructions": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "Produce a synthetic text (overview) covering project management in traditional or agile mode, other uses are out of scope, strictly limited to information explicitly present in the two referenced pages",
              "Finality and scope of the method (focus 'project management')",
              "Principles/approaches of conduct (traditional, agile, hybrid) if and only if explicitly mentioned",
              "Articulation of high-level concepts and their relationships at overview (without detailing sub-chapters treated elsewhere): phases, scenarios, modules, tasks, results, roles",
              "Overview of phases and their hierarchy (1, 2, 2.1, 2.2, 2.3, 3) at conceptual level only",
              "Governance and quality assurance if explicitly mentioned (milestones, decisions, 'quality gates')",
              "Domains explicitly out of scope on these pages (portfolio, application management, etc.)",
              "Target length: 200-650 words (≈ 1200-4000 characters). Strict schema bounds: 600-5000 characters",
              "Output: plain text (no rich Markdown). Site language. Factual, neutral style, without extrapolation",
              "Integrate salient points useful for AI for context and methodology as a whole without creating unnecessary redundancies with underlying concepts described for themselves"
            ]
          },
          "description": "Instructions for extracting the concepts overview from the method overview pages"
        },
        "lastChecked": {
          "type": "string",
          "format": "date",
          "description": "Date de dernière vérification de la source."
        },
        "concept-phases": {
          "$ref": "./hermes2022-phases.json",
          "description": "Concept de phases HERMES2022 - détail des phases de la méthode"
        }
      },
      "required": ["overview", "sourceUrl", "extractionInstructions", "lastChecked", "concept-phases"],
      "additionalProperties": false
    }
  },
  "required": ["config", "method", "concepts"],
  "additionalProperties": false
}
