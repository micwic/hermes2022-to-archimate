{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/micwic/hermes2022-to-archimate/shared/hermes2022-extraction-files/config/json-schemas/hermes2022-concepts.json",
  "title": "HERMES2022 Method Extraction Schema",
  "description": "Schéma de validation pour les fichiers intermédiaires d'extraction des concepts de la méthode HERMES2022",
  "type": "object",
  "properties": {
    "config": {
      "type": "object",
      "properties": {
        "extractionSource": {
          "type": "object",
          "properties": {
            "baseUrl": {
              "type": "string",
              "enum": [
                "https://www.hermes.admin.ch/de",
                "https://www.hermes.admin.ch/fr",
                "https://www.hermes.admin.ch/it",
                "https://www.hermes.admin.ch/en"
              ],
              "default": "https://www.hermes.admin.ch/en",
              "description": "URL de base utilisée pour l'extraction, enregistrée au moment de l'extraction"
            },
            "language": {
              "type": "string",
              "enum": ["de", "fr", "it", "en"],
              "default": "en",
              "description": "Code de langue utilisé pour l'extraction, enregistré au moment de l'extraction"
            },
            "description": {
              "type": "string",
              "maxLength": 500,
              "description": "Description de la source de référence pour l'extraction et transformation des concepts de la méthode HERMES2022"
            }
          },
          "required": ["baseUrl", "language", "description"],
          "additionalProperties": false
        }
      },
      "required": ["extractionSource"],
      "additionalProperties": false
    },
    "method": {
      "type": "object",
      "properties": {
        "hermesVersion": {
          "type": "string",
          "enum": ["2022", "5", "5.1"],
          "default": "2022",
          "description": "Version de la méthode HERMES (5, 5.1, 2022). La valeur par défaut est 2022."
        },
        "publicationDate": {
          "type": "string",
          "format": "date",
          "pattern": "^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$",
          "default": "2023-04-01",
          "description": "Date de publication de la version HERMES au format ISO 8601 (YYYY-MM-DD). La valeur par défaut est 2023-04-01 (HERMES 2022)."
        },
        "overview": {
          "type": "string",
          "minLength": 20,
          "maxLength": 250,
          "description": "Description courte et factuelle de la méthode HERMES2022 extraite de la page d'accueil (20-100 caractères)"
        },
        "extractionModel": {
          "type": "string",
          "enum": ["claude", "nuextract"],
          "default": "claude",
          "description": "Modèle LLM à utiliser pour l'extraction de ce bloc"
        },
        "sourceUrl": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "/"
            ]
          },
          "description": "Chemins relatifs des pages de référence utilisées pour cette description (combinés avec baseUrl lors de l'extraction). Ces pages sont utilisées pour extraire la description générale de la méthode HERMES2022."
        },
        "extractionInstructions": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "Extract the version (hermesVersion) and publication date (publicationDate) of the HERMES method from the homepage",
              "Publication date must be in ISO 8601 format: YYYY-MM-DD",
              "The publication date for HERMES 2022 is always 2023-04-01",
              "The publication date for HERMES 5 is always 2013-04-22",
              "The publication date for HERMES 5.1 is always 2014-06-03",
              "Extract the name and a very synthetic description (overview) of the HERMES method from the homepage",
              "The overview must be factual, 20 characters minimal length, 250 characters maximum length, plain text English"
            ]
          },
          "description": "Instructions for extracting the method overview from the homepage"
        }
      },
      "required": ["hermesVersion", "publicationDate", "overview", "extractionModel", "sourceUrl", "extractionInstructions"],
      "additionalProperties": false
    },
    "concepts": {
      "type": "object",
      "properties": {
        "extractionModel": {
          "type": "string",
          "enum": ["claude", "nuextract"],
          "default": "claude",
          "description": "Modèle LLM à utiliser pour l'extraction de ce bloc"
        },
        "overview": {
          "type": "string",
          "minLength": 50,
          "maxLength": 5000,
          "description": "Description générale des concepts de HERMES2022"
        },
        "sourceUrl": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "/project-management/method-overview.html",
              "/project-management/method-overview/preface.html"
            ]
          },
          "description": "Chemins relatifs des pages de référence utilisées pour cette description (combinés avec baseUrl lors de l'extraction). Ces pages sont utilisées pour extraire la description générale des concepts de HERMES2022."
        },
        "extractionInstructions": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "Extract comprehensive overview of HERMES project management method from the two referenced pages",
              "FINALITY: Extract what HERMES aims to achieve - steering, management, and execution of projects with outcome-focused approach",
              "SCOPE: Extract specific domain covered - project management (traditional and agile) vs domains out of scope (portfolio management, application management)",
              "STRUCTURAL COMPONENTS: Extract and explain the main building blocks - phases (lifecycle stages), scenarios (situation-specific configurations), modules (functional groupings), tasks (work units), results (deliverables), roles (responsibilities)",
              "PHASE STRUCTURE: Extract phase hierarchy - 1=Initiation (project start), 2=Execution (solution development with 2.1=Concept, 2.2=Implementation, 2.3=Deployment), 3=Closure (project end). Explain how phases structure the project lifecycle",
              "SCENARIOS: Extract what scenarios are and their purpose - predefined configurations for different project situations, how they adapt HERMES to specific contexts",
              "MODULES: Extract what modules are - thematic groupings of tasks that organize work across scenarios, their role in structuring activities",
              "TASKS: Extract what tasks are - discrete work units executed within modules, how they relate to results and roles",
              "RESULTS: Extract what results are - deliverables produced by tasks, their role as project outcomes and decision points",
              "ROLES: Extract what roles are - responsibilities assigned to stakeholders, how they interact with tasks and results",
              "RELATIONSHIPS: Extract how these components interact - how scenarios combine modules, how modules group tasks, how tasks produce results and involve roles",
              "GOVERNANCE: Extract governance mechanisms - milestones, quality gates, release decisions, how HERMES ensures project control and quality assurance",
              "METHODOLOGY CHARACTERISTICS: Extract key features - modularity (adaptable configuration), uniformity (consistent interfaces), flexibility (traditional/agile support), scalability (different project sizes)",
              "TRADITIONAL APPROACH: Extract how HERMES supports traditional project management - sequential phases, comprehensive planning upfront, waterfall execution",
              "AGILE APPROACH: Extract how HERMES supports agile methods - iterative execution, incremental delivery, adaptive planning",
              "HYBRID APPROACH: Extract how HERMES accommodates hybrid methodologies - combining traditional and agile elements, flexibility in approach selection",
              "OUTCOME FOCUS: Extract HERMES emphasis on outcomes - deliverable-driven approach, results as success criteria, outcome-based project control",
              "ADAPTABILITY: Extract how HERMES adapts to different contexts - scenario selection, module configuration, task tailoring",
              "CONSISTENCY: Extract how HERMES ensures consistency - standard terminology, uniform phase structure, common interfaces between components",
              "Target length: 300-500 words (≈ 1800-3000 characters). Extract only information explicitly present on the two referenced pages",
              "Output: plain text (no Markdown formatting). Site language (English). Factual, neutral style, without extrapolation",
              "Construct a flowing narrative that integrates all extracted elements into a coherent overview of the methodology as a whole"
            ]
          },
          "description": "Detailed extraction instructions specifying concrete information elements to extract from method overview pages, following the same successful pattern used for phase extraction"
        },
        "concept-phases": {
          "$ref": "./hermes2022-phases.json",
          "description": "Concept de phases HERMES2022 - détail des phases de la méthode"
        }
      },
      "required": ["overview", "extractionModel", "sourceUrl", "extractionInstructions", "concept-phases"],
      "additionalProperties": false
    }
  },
  "required": ["config", "method", "concepts"],
  "additionalProperties": false
}
